## Medical Software
A hospital is planning to migrate its locally-available data and medical records into an API service. The
API service is meant to be available internally to all staff, and for official use only.


## Requirement Specifications:
- An endpoint to add a new staff member to the service, a uuid is autogenerated for every staff member which will be required for subsequent API requests.
Staff profile comprises: id, name, uuid, registration_date
- An endpoint to update staff member profile (Requires validating staff uuid before access)
- An endpoint to fetch all patient profiles (where there age up to 2 years old).The patient profile comprises: id, name, age, last_visit_date (Requires validating staff uuid before access)
- An endpoint to download a specific patientâ€™s profile into a CSV file
(Requires validating staff uuid before access)
- An endpoint to delete multiple patient profiles between a date range (Requires validating staff uuid before access)


## Implementation:
- Spring Boot 2.7.2
- Database H2 database file-based.
- Java 11
- Unit tests using JUnit, Mockito, MockMvc

## Database
- This application uses the H2 database - file based method. 
- Check the application.properties file for the details. 
- Create test.mv.db file in your user home directory (if you used spring.datasource.url=jdbc:h2:file:~/test). 
- here is the link for h2 console http://localhost:8080/h2-console/


### Architecture: 
- Entity: This is the directly connected to the database and creates the table in h2 database
- Repository: This layer extends the JpaRepository and sits directly on the database, each entity has its repository
- Service: This is the layer where all the work is done, it is the connector betweeen the repository and the rest controller, the logics sits here.
- Controller: the REST controller is responsible only for recieving request and sending back responses.

## How to Run
- clone application
- Create test.mv.db file in your user home directory (if you used spring.datasource.url=jdbc:h2:file:~/test)
- run MedicalSoftwareApplication class. - for test run StaffControllerTest class
- go to http://localhost:8080/h2-console/
- set JDBC URL: to jdbc:h2:file:~/test
- Copy SQL Script in patient-script.sql in the db folder in resources (/resources/db)
- Run the script in the h2 console
- run APIs

## POSTMAN and API Testing
- Collection is in /resources/api folder (medical.postman_collection.json)
- Run the POST staff API first (so as to have atleast one valid UUID)
- Use UUID with other APIs 
- As required by the document I received, if user enter invalid UUID. Then you are not authorized.

